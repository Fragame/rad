"use strict";(self.webpackChunkmy_book=self.webpackChunkmy_book||[]).push([[216],{3059:(e,r,o)=>{o.r(r),o.d(r,{default:()=>n});var t=o(6540),i=o(781),d=o(6347),s=o(4848);function a(){const[e,r]=(0,t.useState)({username:"",password:""}),[o,i]=(0,t.useState)(""),[a,n]=(0,t.useState)(!1),l=(0,d.W6)();return(0,s.jsxs)("div",{style:{maxWidth:"400px",margin:"2rem auto",padding:"2rem",border:"1px solid #ddd",borderRadius:"8px",background:"var(--ifm-background-surface-color)"},children:[(0,s.jsx)("h2",{children:"Login Editor"}),o&&(0,s.jsx)("div",{style:{background:"#ffebee",color:"#c62828",padding:"0.75rem",borderRadius:"4px",marginBottom:"1rem"},children:o}),(0,s.jsxs)("form",{onSubmit:async r=>{r.preventDefault(),i(""),n(!0);try{const r=await fetch("http://localhost:3001/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),o=await r.json();r.ok?(localStorage.setItem("authToken",o.token),localStorage.setItem("user",JSON.stringify(o.user)),l.push("/"),window.location.reload()):i(o.error||"Errore di login")}catch(o){i("Errore di connessione al server")}finally{n(!1)}},children:[(0,s.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,s.jsx)("label",{style:{display:"block",marginBottom:"0.5rem"},children:"Username"}),(0,s.jsx)("input",{type:"text",value:e.username,onChange:o=>r({...e,username:o.target.value}),required:!0,style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px",fontSize:"1rem"}})]}),(0,s.jsxs)("div",{style:{marginBottom:"1.5rem"},children:[(0,s.jsx)("label",{style:{display:"block",marginBottom:"0.5rem"},children:"Password"}),(0,s.jsx)("input",{type:"password",value:e.password,onChange:o=>r({...e,password:o.target.value}),required:!0,style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px",fontSize:"1rem"}})]}),(0,s.jsx)("button",{type:"submit",disabled:a,style:{width:"100%",padding:"0.75rem",background:"var(--ifm-color-primary)",color:"white",border:"none",borderRadius:"4px",fontSize:"1rem",cursor:a?"not-allowed":"pointer",opacity:a?.7:1},children:a?"Accesso in corso...":"Accedi"})]}),(0,s.jsx)("div",{style:{marginTop:"1rem",fontSize:"0.9rem",color:"#666"},children:"Credenziali di test: admin / password123"})]})}function n(){return(0,s.jsx)(i.A,{title:"Login Editor",children:(0,s.jsx)("main",{style:{padding:"2rem"},children:(0,s.jsx)(a,{})})})}}}]);